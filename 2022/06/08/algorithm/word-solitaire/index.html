<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>单词接龙 | 邱维东</title><meta name="author" content="邱维东"><meta name="copyright" content="邱维东"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="昨夜松边醉倒，问松我醉何如。只疑松动要来扶，以手推松曰去。 辛弃疾《西江月·遣兴》 题目描述 洛谷链接 https:&#x2F;&#x2F;www.luogu.com.cn&#x2F;problem&#x2F;U214783 相信大家都玩过成语接龙的游戏，比如说心心相印-&gt;印贼做父-&gt;父相伤害-&gt;… 我们可以将它们拼接起来，如心心相印贼做父相伤害。 为了简化问题，避免处理宽字符，下面我们用英文单词来模拟这一过程。规定如">
<meta property="og:type" content="article">
<meta property="og:title" content="单词接龙">
<meta property="og:url" content="https://qiu-weidong.github.io/2022/06/08/algorithm/word-solitaire/index.html">
<meta property="og:site_name" content="邱维东">
<meta property="og:description" content="昨夜松边醉倒，问松我醉何如。只疑松动要来扶，以手推松曰去。 辛弃疾《西江月·遣兴》 题目描述 洛谷链接 https:&#x2F;&#x2F;www.luogu.com.cn&#x2F;problem&#x2F;U214783 相信大家都玩过成语接龙的游戏，比如说心心相印-&gt;印贼做父-&gt;父相伤害-&gt;… 我们可以将它们拼接起来，如心心相印贼做父相伤害。 为了简化问题，避免处理宽字符，下面我们用英文单词来模拟这一过程。规定如">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/%E5%A3%81%E7%BA%B8/wallhaven-28x98g.jpg">
<meta property="article:published_time" content="2022-06-08T06:31:24.000Z">
<meta property="article:modified_time" content="2023-08-25T08:01:17.820Z">
<meta property="article:author" content="邱维东">
<meta property="article:tag" content="图论">
<meta property="article:tag" content="欧拉回路">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/%E5%A3%81%E7%BA%B8/wallhaven-28x98g.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/icon.png"><link rel="canonical" href="https://qiu-weidong.github.io/2022/06/08/algorithm/word-solitaire/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 邱维东","link":"链接: ","source":"来源: 邱维东","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '单词接龙',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-25 16:01:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/inject.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/matrix/wallhaven-5dpy80.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">81</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">70</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">47</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-image"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/book/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-28x98g.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">邱维东</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-image"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/book/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">单词接龙</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-06-08T06:31:24.000Z" title="发表于 2022-06-08 14:31:24">2022-06-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-25T08:01:17.820Z" title="更新于 2023-08-25 16:01:17">2023-08-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%9B%BE%E8%AE%BA/">图论</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/">欧拉回路</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">1.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>5分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="单词接龙"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><blockquote id="poem-container" class="poem-container"><p>昨夜松边醉倒，问松我醉何如。只疑松动要来扶，以手推松曰去。</p>
<footer style="text-align: right"><strong>辛弃疾</strong><cite>《西江月·遣兴》</cite></footer></blockquote>
<h2 id="题目描述">题目描述</h2>
<p>洛谷链接 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/U214783">https://www.luogu.com.cn/problem/U214783</a><br>
相信大家都玩过成语接龙的游戏，比如说<strong>心心相印-&gt;印贼做父-&gt;父相伤害-&gt;…</strong> 我们可以将它们拼接起来，如<strong>心心相印贼做父相伤害</strong>。</p>
<p>为了简化问题，避免处理宽字符，下面我们用英文单词来模拟这一过程。规定如果一个单词<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>的最后一个字符和另一个单词<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>的第一个字符相同，则可以将单词<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>接在单词<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>的后面。且拼接后的结果衔接部分只出现一次，并大写。</p>
<p>比如说单词 <mark class="hl-label blue">abandon</mark>  和单词 <mark class="hl-label blue">navie</mark>  就可以拼接，因为 <mark class="hl-label blue">abandon</mark>  的最后一个字母与 <mark class="hl-label blue">navie</mark>  的第一个字母相同，都为<code>n</code>。于是得到拼接后的结果为 <mark class="hl-label default">abandoNaive</mark>  。</p>
<p>下面给出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>个单词，请判断这些单词是否能够拼接成一个环。要求每个单词都必须使用且只能使用一次。</p>
<p>本题采用spj。spj代码会在最后给出。</p>
<h2 id="输入">输入</h2>
<p>第一个数单词个数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>。</p>
<p>接下来<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>个单词，用空格隔开。</p>
<h2 id="输出">输出</h2>
<p>一个字符串，表示拼接后的结果，如果不能拼接，请输出 <mark class="hl-label red">None</mark>  。注意，由于连接成了一个环，输出的第一个字符和最后一个字符都应该大写且相同，表示它们是连接在一起的。</p>
<h2 id="示例1">示例1</h2>
<blockquote>
<p><strong>输入</strong>:<br>
48<br>
i am voting for donald trump my father is a union worker and his has tripled under president trump usa voter thank you and remember that the stock market is getting ready to break its all time high next year will be the best ever vote vote vote<br>
<strong>输出</strong>:<br>
None</p>
</blockquote>
<h2 id="示例2">示例2</h2>
<blockquote>
<p><strong>输入</strong>:<br>
9<br>
erab example terminate tonic creme editor rob boycatt bat<br>
<strong>输出</strong>:<br>
TerminatExamplEraBaToniCremEditoRoBoycatT</p>
</blockquote>
<h2 id="数据范围">数据范围</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">n \leq 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>，每个单词的长度大于2且不超过15个字符</p>
<h2 id="hint">hint</h2>
<p>欧拉回路</p>
<h2 id="问题分析">问题分析</h2>
<p>该问题可以转换为一个图论问题，将每个单词视为一条从该单词的第一个字母指向该单词的最后一个字母的有向边。例如，可以将 <mark class="hl-label default">abandon</mark>  视为从顶点<code>a</code>指向顶点<code>n</code>的一条有向边。这样，该问题就转换为了求经过所有边恰好一次的一条回路，这种问题在图论中被称为欧拉回路问题。<br>
以示例2中的输入为例，可以得到如下的一个有向图:</p>
<div style="margin: 0 0 20px;">
                    <div style=" margin: 0 auto;">
                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %0 Pages: 1 -->
<svg 
 viewBox="0.00 0.00 576.73 151.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 147.8)">
<title>初始图像</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-147.8 572.7294,-147.8 572.7294,4 -4,4"/>
<!-- e -->
<g id="node1" class="node">
<title>e</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-70" rx="27" ry="18"/>
<text text-anchor="middle" x="27" y="-65.8" font-family="Times,serif" font-size="14.00" fill="#000000">e</text>
</g>
<!-- e&#45;&gt;e -->
<g id="edge7" class="edge">
<title>e&#45;&gt;e</title>
<path fill="none" stroke="#000000" d="M16.4531,-86.6641C14.1094,-96.625 17.625,-106 27,-106 33.0059,-106 36.607,-102.1525 37.8035,-96.7682"/>
<polygon fill="#000000" stroke="#000000" points="41.2997,-96.5719 37.5469,-86.6641 34.302,-96.7497 41.2997,-96.5719"/>
<text text-anchor="middle" x="27" y="-110.2" font-family="Times,serif" font-size="14.00" fill="#000000">example</text>
</g>
<!-- b -->
<g id="node2" class="node">
<title>b</title>
<ellipse fill="none" stroke="#000000" cx="292.5232" cy="-106" rx="27" ry="18"/>
<text text-anchor="middle" x="292.5232" y="-101.8" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</g>
<!-- e&#45;&gt;b -->
<g id="edge1" class="edge">
<title>e&#45;&gt;b</title>
<path fill="none" stroke="#000000" d="M42.5538,-85.0618C50.7519,-92.2878 61.3079,-100.5393 72,-106 92.802,-116.6241 99.5562,-116.5393 122.6564,-120 177.5473,-128.2233 192.8274,-131.4344 247.5232,-122 251.5449,-121.3063 255.6835,-120.2879 259.7454,-119.0954"/>
<polygon fill="#000000" stroke="#000000" points="261.1713,-122.3107 269.5743,-115.8578 258.9813,-115.6621 261.1713,-122.3107"/>
<text text-anchor="middle" x="149.6564" y="-131.2" font-family="Times,serif" font-size="14.00" fill="#000000">erab</text>
</g>
<!-- r -->
<g id="node3" class="node">
<title>r</title>
<ellipse fill="none" stroke="#000000" cx="149.6564" cy="-93" rx="27" ry="18"/>
<text text-anchor="middle" x="149.6564" y="-88.8" font-family="Times,serif" font-size="14.00" fill="#000000">r</text>
</g>
<!-- e&#45;&gt;r -->
<g id="edge2" class="edge">
<title>e&#45;&gt;r</title>
<path fill="none" stroke="#000000" d="M53.0123,-74.8777C70.5372,-78.1639 93.8985,-82.5445 113.2626,-86.1756"/>
<polygon fill="#000000" stroke="#000000" points="112.785,-89.647 123.2588,-88.05 114.0752,-82.7669 112.785,-89.647"/>
<text text-anchor="middle" x="88.3282" y="-89.2" font-family="Times,serif" font-size="14.00" fill="#000000">editor</text>
</g>
<!-- t -->
<g id="node4" class="node">
<title>t</title>
<ellipse fill="none" stroke="#000000" cx="423.7336" cy="-64" rx="27" ry="18"/>
<text text-anchor="middle" x="423.7336" y="-59.8" font-family="Times,serif" font-size="14.00" fill="#000000">t</text>
</g>
<!-- b&#45;&gt;t -->
<g id="edge6" class="edge">
<title>b&#45;&gt;t</title>
<path fill="none" stroke="#000000" d="M319.8039,-107.241C337.2129,-107.1304 359.9531,-105.2797 378.7336,-98 386.4369,-95.014 393.9507,-90.303 400.563,-85.3283"/>
<polygon fill="#000000" stroke="#000000" points="402.8227,-88.0023 408.403,-78.9961 398.4244,-82.5566 402.8227,-88.0023"/>
<text text-anchor="middle" x="358.1284" y="-110.2" font-family="Times,serif" font-size="14.00" fill="#000000">bat</text>
</g>
<!-- b&#45;&gt;t -->
<g id="edge9" class="edge">
<title>b&#45;&gt;t</title>
<path fill="none" stroke="#000000" d="M310.4226,-92.0955C318.3255,-86.6239 327.9764,-80.8002 337.5232,-77.2 352.9481,-71.383 370.8461,-68.1264 386.3235,-66.3044"/>
<polygon fill="#000000" stroke="#000000" points="386.9981,-69.7539 396.5919,-65.2584 386.2886,-62.7899 386.9981,-69.7539"/>
<text text-anchor="middle" x="358.1284" y="-82.2" font-family="Times,serif" font-size="14.00" fill="#000000">boycatt</text>
</g>
<!-- r&#45;&gt;b -->
<g id="edge8" class="edge">
<title>r&#45;&gt;b</title>
<path fill="none" stroke="#000000" d="M176.5286,-95.4452C198.7366,-97.466 230.5121,-100.3574 255.1918,-102.6031"/>
<polygon fill="#000000" stroke="#000000" points="255.0097,-106.1009 265.2858,-103.5216 255.6441,-99.1297 255.0097,-106.1009"/>
<text text-anchor="middle" x="221.0898" y="-105.2" font-family="Times,serif" font-size="14.00" fill="#000000">rob</text>
</g>
<!-- t&#45;&gt;e -->
<g id="edge4" class="edge">
<title>t&#45;&gt;e</title>
<path fill="none" stroke="#000000" d="M396.5539,-63.9353C379.5828,-63.9109 357.2795,-63.9081 337.5232,-64 242.0237,-64.4444 218.1257,-63.5602 122.6564,-66 103.5297,-66.4888 82.2635,-67.3467 64.649,-68.143"/>
<polygon fill="#000000" stroke="#000000" points="64.0323,-64.6678 54.2051,-68.627 64.3564,-71.6603 64.0323,-64.6678"/>
<text text-anchor="middle" x="221.0898" y="-69.2" font-family="Times,serif" font-size="14.00" fill="#000000">terminate</text>
</g>
<!-- c -->
<g id="node5" class="node">
<title>c</title>
<ellipse fill="none" stroke="#000000" cx="541.7294" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="541.7294" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</g>
<!-- t&#45;&gt;c -->
<g id="edge3" class="edge">
<title>t&#45;&gt;c</title>
<path fill="none" stroke="#000000" d="M447.0458,-54.9119C464.6273,-48.0578 488.9814,-38.5635 508.5869,-30.9204"/>
<polygon fill="#000000" stroke="#000000" points="510.016,-34.1199 518.0618,-27.2267 507.4734,-27.598 510.016,-34.1199"/>
<text text-anchor="middle" x="482.7315" y="-50.2" font-family="Times,serif" font-size="14.00" fill="#000000">tonic</text>
</g>
<!-- c&#45;&gt;e -->
<g id="edge5" class="edge">
<title>c&#45;&gt;e</title>
<path fill="none" stroke="#000000" d="M515.6224,-12.404C491.8031,-7.79 455.5698,-2 423.7336,-2 149.6564,-2 149.6564,-2 149.6564,-2 110.8878,-2 72.8952,-28.3063 49.7111,-48.195"/>
<polygon fill="#000000" stroke="#000000" points="47.3044,-45.6514 42.1512,-54.9086 51.9525,-50.8854 47.3044,-45.6514"/>
<text text-anchor="middle" x="292.5232" y="-6.2" font-family="Times,serif" font-size="14.00" fill="#000000">creme</text>
</g>
</g>
</svg>

                    <div style="text-align: center;margin: -8px 0 10px;color: #858585;">初始图像</div>
                    </div>
                    
                </div>
<h2 id="具体实现">具体实现</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::list;</span><br><span class="line"><span class="keyword">using</span> std::multiset;</span><br><span class="line"><span class="keyword">using</span> std::map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> from, to;</span><br><span class="line">    string word;</span><br><span class="line">    <span class="built_in">Edge</span>(<span class="type">int</span> from=<span class="number">0</span>, <span class="type">int</span> to=<span class="number">0</span>, <span class="type">const</span> string &amp; word = <span class="string">&quot;&quot;</span>) : <span class="built_in">from</span>(from), <span class="built_in">to</span>(to), <span class="built_in">word</span>(word) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line">map&lt;<span class="type">int</span>, list&lt;Edge&gt; &gt; graph;</span><br><span class="line"><span class="type">int</span> in[<span class="number">256</span>], out[<span class="number">256</span>];</span><br><span class="line">vector&lt;string&gt; ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_edge</span><span class="params">(<span class="type">const</span> string &amp; word)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> from = *word.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="type">int</span> to = *word.<span class="built_in">rbegin</span>();</span><br><span class="line"></span><br><span class="line">    graph[from].<span class="built_in">push_back</span>(<span class="built_in">Edge</span>(from, to, word));</span><br><span class="line">    out[from]++;</span><br><span class="line">    in[to]++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> from)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(graph.<span class="built_in">find</span>(from) == graph.<span class="built_in">end</span>()) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> &amp; edges = graph[from];</span><br><span class="line">    <span class="keyword">while</span>(edges.<span class="built_in">size</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">auto</span> edge = edges.<span class="built_in">front</span>();</span><br><span class="line">        edges.<span class="built_in">pop_front</span>();</span><br><span class="line">        <span class="built_in">dfs</span>(edge.to);</span><br><span class="line">        ans.<span class="built_in">push_back</span>(edge.word);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// word-solitaire</span></span><br><span class="line"><span class="function">string <span class="title">word_solitaire</span><span class="params">(<span class="type">const</span> vector&lt;string&gt; &amp; words)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(out, <span class="number">0</span> , <span class="built_in">sizeof</span>(out));</span><br><span class="line">    <span class="built_in">memset</span>(in, <span class="number">0</span>, <span class="built_in">sizeof</span>(in));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">const</span> string &amp; word : words) &#123;</span><br><span class="line">        <span class="built_in">add_edge</span>(word);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">256</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(in[i] != out[i]) <span class="keyword">return</span> <span class="string">&quot;None&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">dfs</span>(words[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">    std::<span class="built_in">reverse</span>(ans.<span class="built_in">begin</span>(), ans.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    string ret;</span><br><span class="line">    <span class="comment">// 将ans中的字符串拼接即可</span></span><br><span class="line">    <span class="keyword">for</span>(string &amp; word : ans) &#123;</span><br><span class="line">        *word.<span class="built_in">begin</span>() = <span class="built_in">toupper</span>(*word.<span class="built_in">begin</span>());</span><br><span class="line">        ret.<span class="built_in">insert</span>(ret.<span class="built_in">end</span>(), word.<span class="built_in">begin</span>(), word.<span class="built_in">end</span>()<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ret.<span class="built_in">push_back</span>(ret[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">const</span> vector&lt;string&gt; &amp; words, string &amp; answer)</span> </span>&#123;</span><br><span class="line">    multiset&lt;string&gt; set;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">const</span> <span class="keyword">auto</span> &amp; word : words) &#123;</span><br><span class="line">        set.<span class="built_in">insert</span>(word);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> st = answer.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="comment">// 第一个字母必须大写</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">islower</span>(*st)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    *st = <span class="built_in">tolower</span>(*st);</span><br><span class="line">    </span><br><span class="line">    string hold = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">while</span>(st != answer.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        <span class="keyword">while</span>(st != answer.<span class="built_in">end</span>() &amp;&amp; <span class="built_in">islower</span>(*st)) &#123;</span><br><span class="line">            hold += *st;</span><br><span class="line">            st++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(st == answer.<span class="built_in">end</span>()) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 最后一个字母没有大写</span></span><br><span class="line">        <span class="built_in">assert</span>(<span class="built_in">isupper</span>(*st));</span><br><span class="line">        *st = <span class="built_in">tolower</span>(*st);</span><br><span class="line">        hold += *st;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> it = set.<span class="built_in">find</span>(hold);</span><br><span class="line">        <span class="keyword">if</span>(it == set.<span class="built_in">end</span>()) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 不存在这个单词</span></span><br><span class="line">        set.<span class="built_in">erase</span>(it); <span class="comment">// 删除这个单词</span></span><br><span class="line"></span><br><span class="line">        hold.<span class="built_in">clear</span>();</span><br><span class="line">        hold += *st;</span><br><span class="line">        st++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> set.<span class="built_in">empty</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    vector&lt;string&gt; words = &#123; <span class="string">&quot;erab&quot;</span>, <span class="string">&quot;example&quot;</span>, <span class="string">&quot;terminate&quot;</span>, <span class="string">&quot;tonic&quot;</span>, <span class="string">&quot;creme&quot;</span>, <span class="string">&quot;editor&quot;</span>, <span class="string">&quot;rob&quot;</span>, <span class="string">&quot;boycatt&quot;</span>, <span class="string">&quot;bat&quot;</span> &#125;;</span><br><span class="line">    string answer = <span class="string">&quot;TerminatExamplEraBaToniCremEditoRoBoycatT&quot;</span>;</span><br><span class="line"></span><br><span class="line">    words.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++) &#123;</span><br><span class="line">        string word;</span><br><span class="line">        std::cin &gt;&gt; word;</span><br><span class="line">        words.<span class="built_in">push_back</span>(word);</span><br><span class="line">    &#125;</span><br><span class="line">    answer = <span class="built_in">word_solitaire</span>(words);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; answer &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">check</span>(words, answer) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://qiu-weidong.github.io">邱维东</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://qiu-weidong.github.io/2022/06/08/algorithm/word-solitaire/">https://qiu-weidong.github.io/2022/06/08/algorithm/word-solitaire/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://qiu-weidong.github.io" target="_blank">邱维东</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9B%BE%E8%AE%BA/">图论</a><a class="post-meta__tags" href="/tags/%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/">欧拉回路</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-28x98g.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/01/02/algorithm/Euler-path/" title="欧拉路径"><img class="cover" src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-8ow38k.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-02</div><div class="title">欧拉路径</div></div></a></div><div><a href="/2022/12/29/algorithm/conditional-shortest-path/" title="限制条件的单源最短路径"><img class="cover" src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-x8gl8v.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-29</div><div class="title">限制条件的单源最短路径</div></div></a></div><div><a href="/2022/06/08/algorithm/course-schedule/" title="课程表"><img class="cover" src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/brige.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-08</div><div class="title">课程表</div></div></a></div><div><a href="/2022/12/29/algorithm/single-source-shortest-path/" title="单源最短路径"><img class="cover" src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-47z5vy.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-29</div><div class="title">单源最短路径</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/matrix/wallhaven-5dpy80.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">邱维东</div><div class="author-info__description">靡不有初, 鲜克有终</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">81</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">70</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">47</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Qiu-Weidong"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Qiu-Weidong" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://www.zhihu.com/people/qiu-yan-zu-65" target="_blank" title="知乎"><i class="fa-brands fa-zhihu"></i></a><a class="social-icon" href="https://space.bilibili.com/381348550?spm_id_from=333.1007.0.0" target="_blank" title="bilibili"><i class="fa-brands fa-bilibili"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">题目描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5"><span class="toc-number">2.</span> <span class="toc-text">输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA"><span class="toc-number">3.</span> <span class="toc-text">输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B1"><span class="toc-number">4.</span> <span class="toc-text">示例1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B2"><span class="toc-number">5.</span> <span class="toc-text">示例2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4"><span class="toc-number">6.</span> <span class="toc-text">数据范围</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hint"><span class="toc-number">7.</span> <span class="toc-text">hint</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90"><span class="toc-number">8.</span> <span class="toc-text">问题分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="toc-number">9.</span> <span class="toc-text">具体实现</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/11/07/d3/d301/" title="新建 d3 项目"><img src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-o3mmpp.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="新建 d3 项目"/></a><div class="content"><a class="title" href="/2023/11/07/d3/d301/" title="新建 d3 项目">新建 d3 项目</a><time datetime="2023-11-07T12:20:34.000Z" title="发表于 2023-11-07 20:20:34">2023-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/26/pytorch/" title="pytorch 安装"><img src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-rdxwkw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pytorch 安装"/></a><div class="content"><a class="title" href="/2023/10/26/pytorch/" title="pytorch 安装">pytorch 安装</a><time datetime="2023-10-26T06:48:06.000Z" title="发表于 2023-10-26 14:48:06">2023-10-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/19/grafana/grafana/" title="grafana 安装和配置"><img src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-57ogy3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="grafana 安装和配置"/></a><div class="content"><a class="title" href="/2023/10/19/grafana/grafana/" title="grafana 安装和配置">grafana 安装和配置</a><time datetime="2023-10-19T07:25:39.000Z" title="发表于 2023-10-19 15:25:39">2023-10-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/03/vscode/shortcut/" title="vscode 快捷键"><img src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-6o1g8x.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vscode 快捷键"/></a><div class="content"><a class="title" href="/2023/10/03/vscode/shortcut/" title="vscode 快捷键">vscode 快捷键</a><time datetime="2023-10-03T05:18:22.000Z" title="发表于 2023-10-03 13:18:22">2023-10-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/02/elasticsearch/filebeat/" title="filebeat 部署和使用"><img src="https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/wallhaven-zxle9g.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="filebeat 部署和使用"/></a><div class="content"><a class="title" href="/2023/10/02/elasticsearch/filebeat/" title="filebeat 部署和使用">filebeat 部署和使用</a><time datetime="2023-10-02T12:04:38.000Z" title="发表于 2023-10-02 20:04:38">2023-10-02</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/Qiu-Weidong/blog/resources/images/壁纸/moon.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 邱维东</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">燕歌远别，悲不自胜。楚老相逢，泣将何及。</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'default' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '8fd816db854286adc715',
      clientSecret: 'f0d1be4118b23d1e601e988b1a47b063c5ac651e',
      repo: 'qiu-weidong.github.io',
      owner: 'Qiu-Weidong',
      admin: ['Qiu-Weidong'],
      id: '857d6677093f8afaaf030de07879d8bc',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>